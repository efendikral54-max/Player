<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        video { width: 100%; height: 100%; object-fit: contain; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mpegts.js@1.7.3/dist/mpegts.min.js"></script>
</head>
<body>
    <video id="videoElement" controls autoplay playsinline></video>
    <script>
        function startPlayer() {
            // Wir holen die URL aus dem WebViewString
            var streamUrl = window.AppInventor.getWebViewString();
            
            if (mpegts.getFeatureList().mseLivePlayback && streamUrl) {
                var videoElement = document.getElementById('videoElement');
                var player = mpegts.createPlayer({
                    type: 'mse',
                    isLive: true,
                    url: streamUrl
                });
                player.attachMediaElement(videoElement);
                player.load();
                player.play();
            }
        }
        window.onload = setTimeout(startPlayer, 300);
    </script>
</body>
</html>

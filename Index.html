function startStream(url) {
            if (!url) return;
            stopExistingPlayers();

            // Alles in Kleinbuchstaben für leichtere Suche
            const urlLower = url.toLowerCase();
            const isTS = urlLower.includes('.ts') || urlLower.includes('type=m3u_plus');
            const isM3U8 = urlLower.includes('.m3u8');
            // Wenn der Link keine Standard-Endung hat (wie dein StarTV Link)
            const isSpecialApiLink = !isTS && !isM3U8;

            if (isTS && mpegts.getFeatureList().mseLivePlayback) {
                // MPEG-TS Modus (.ts)
                tsPlayer = mpegts.createPlayer({ type: 'mse', isLive: true, url: url });
                tsPlayer.attachMediaElement(video);
                tsPlayer.load();
                handlePlayback();
            } 
            else if (isM3U8 && Hls.isSupported()) {
                // HLS Modus (.m3u8)
                hlsPlayer = new Hls({ xhrSetup: function (xhr) { xhr.withCredentials = false; } });
                hlsPlayer.loadSource(url);
                hlsPlayer.attachMedia(video);
                hlsPlayer.on(Hls.Events.MANIFEST_PARSED, () => handlePlayback());
                
                // NEU: Wenn hls.js wegen CORS-Fehlern abstürzt, weichen wir auf den nativen Player aus!
                hlsPlayer.on(Hls.Events.ERROR, function (event, data) {
                    if (data.fatal) {
                        hlsPlayer.destroy();
                        video.src = url;
                        handlePlayback();
                    }
                });
            } 
            else {
                // API-Links, Workers und native Streams (umgeht CORS-Probleme!)
                // Das greift bei: http://tv.glturk.workers.dev/?ID=StarTV_HD
                video.src = url;
                handlePlayback();
            }
        }
